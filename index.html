<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

<link rel="stylesheet" type="text/css" href="static/bootstrap.css" >
<title>Chimney</title>
</head>

<body>
<h1>task delivery:</h1>

<!-- Cost slider -->
<p>
  <label for="costAmount">Cost:</label>
  <input type="text" id="costAmount" readonly style="border:0; color:#f6931f; font-weight:bold;">
  <input type="checkbox" name='costCheck'> Any Cost
</p>
 

<!-- Time Slider -->

<div id="slider-range-cost"></div>
<br>
<p>
  <label for="timeAmount">Time:</label>
  <input type="text" id="timeAmount" readonly style="border:0; color:#f6931f; font-weight:bold;">
  <input type="checkbox" name='timeCheck'> Any Time
</p>
 
<div id="slider-range-time"></div>

<!-- Priority Slider -->

<br>
<p>
  <label for="priorityAmount">Priority:</label>
  <input type="text" id="priorityAmount" readonly style="border:0; color:#f6931f; font-weight:bold;">
  <input type="checkbox" name='priorityCheck'> No Priority
</p>
 
<div id="slider-range-priority"></div>
<br>
<div id='runqueryButton'>
  <br>
<button name='runquery' type="button" class='submitButton'>Gimme Projects!
	</button>
</div>
</br>

<div id='newTaskButton'>
<br>
<button name='newTask' type='button' class='taskButton'>Add a New Task
</button>
</div>

<script type="text/javascript">
    document.write("\<script src='//ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js' type='text/javascript'>\<\/script>");
</script>

<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

<script>
$(function() {
    $( "#slider-range-cost" ).slider({
      range: true,
      min: 0,
      max: 5000,
      values: [ 0, 300 ],
      slide: function( event, ui ) {
        $( "#costAmount" ).val( "$" + ui.values[ 0 ] + " - $" + ui.values[ 1 ] );
      }
    });
    $( "#costAmount" ).val( "$" + $( "#slider-range-cost" ).slider( "values", 0 ) +
      " - $" + $( "#slider-range-cost" ).slider( "values", 1 ) );
  });
</script>

<script>
$(function() {
    $( "#slider-range-time" ).slider({
      range: true,
      min: 0,
      max: 72,
      values: [ 0, 72 ],
      slide: function( event, ui ) {
        $( "#timeAmount" ).val(ui.values[ 0 ] + " - " + ui.values[ 1 ] );
      }
    });
    $( "#timeAmount" ).val($( "#slider-range-time" ).slider( "values", 0 ) +
      " - " + $( "#slider-range-time" ).slider( "values", 1 ) + ' hours');
  });
</script>

<script>
$(function() {
    $( "#slider-range-priority" ).slider({
      range: true,
      min: 1,
      max: 5,
      values: [ 1, 5 ],
      slide: function( event, ui ) {
        $( "#priorityAmount" ).val(ui.values[ 0 ] + " - " + ui.values[ 1 ] );
      }
    });
    $( "#priorityAmount" ).val($( "#slider-range-priority" ).slider( "values", 0 ) +
      " - " + $( "#slider-range-priority" ).slider( "values", 1 ) + ' ');
  });
</script>


<script>
    $(document).ready(function() {
        $('#runqueryButton').click(function() {
          // Cost
          if ($('[name=costCheck]').is(':checked') == true) {
            var cost = "999999999"
          } else {
            var mincost = $('#slider-range-cost').slider('option').values[0]
            var maxcost = $('#slider-range-cost').slider('option').values[1]
          }
          
          // Priority
        	if ($('[name=priorityCheck]').is(':checked') == true) {
            var priority = "6"
          } else {
            var priority = $('#slider-range-priority').slider('option').values[1]
          }

          // Time
          if ($('[name=timeCheck]').is(':checked') == true) {
            var time = "999999999"
          } else {
            var mintime = $('#slider-range-time').slider('option').values[0]
            var maxtime = $('#slider-range-time').slider('option').values[1]
          }
        	window.location.href =  mintime + '/' + maxtime + '/' + 
              mincost + '/' + maxcost + '/' + priority;
        });
        $('#newTaskButton').click(function() {
			     window.location.href = '/new'

		});
    });
</script>
</body>
</html>